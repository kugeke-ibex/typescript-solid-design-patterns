# Memento
- オブジェクトの現在の状態を保存しておき、状態が変化した場合でもその時の状態に戻す事ができる様にするパターン
  - command(Ctrl) + ZのUndo(1つ前に戻る)機能を実現する
  - 状態を生成するクラスとその履歴を管理するクラスを分離する

# Memento の構成要素
- Originator
  - 保存対象となるクラス
  - 内部状態を保存するメソッドとリストアするメソッドを持つ

- Memento
  - Originatorオブジェクトを保存する記憶用クラス
  - Originator以外からインスタンスの生成・状態の変更をできないようにする

- Caretaker
  - Mementoオブジェクトを管理するクラス

# Mediator のオブジェクト指向的要素
- 「カプセル化の破壊」を防ぐためのパターn
  - Mementoパターンを使わず内部状態の保存・復元をする場合、状態を公開する必要がある
  - Originator自身を保存操作を行う事で、内部状態を非公開としたままスナップ書を作成できる
  - MementoのconstructorをprotectedとすることでMementoのインスタンス生成をOriginatorのみに制限している

## Memento のメリット
- カプセル化を破壊する事なく、オブジェクトの状態のスナップショットを作成・復元できる
- スナップショットの管理をCaretakerに任せることで、Originatorクラスをシンプルに保つことができる

## Memento のデメリット
- Mementoを大量に作成してしまうとメモリ使用量が増加する
- プログラミング言語の仕様により、構成を変更する必要がある

## Memento の使い所
- オブジェクトの状態を復元するためにスナップショットを作成したい場合
  - Undoが必要なアプリケーション
  - ゲーム
